import subprocess

# 컴파일된 C 프로그램의 경로
program_path = './basic_input'

# subprocess를 사용하여 프로그램 실행
process = subprocess.Popen([program_path], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, bufsize=0, text=True)

# "Program Started!\n"까지 출력을 읽고, 출력하기
output = process.stdout.readline()
process.stdout.flush()
print(output, end='')

# Python에서 입력을 제공
process.stdin.write("first input!\n")
process.stdin.flush()

process.stdin.write("second input!\n")
process.stdin.flush()

# 나머지 출력을 읽고, 출력하기
for line in process.stdout:
    print(line, end='')


#  프로세스 종료
process.stdin.close()
process.stdout.close()
process.terminate()

print(f"output : {output}")