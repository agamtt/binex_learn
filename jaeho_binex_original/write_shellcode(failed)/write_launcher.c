// gcc -o write_launcher -z execstack write_launcher.c

#include <stdio.h>
#include <string.h>


void main()
{
  unsigned char code[]= "\x55\x48\x89\xe5\x48\x83\xec\x20\x48\xb8\x6e\x65\x77\x5f\x66\x69\x6c\x65\x48\x89\x45\xef\xc7\x45\xf7\x2e\x74\x78\x74\xc6\x45\xfb\x00\x48\xb8\x48\x65\x6c\x6c\x6f\x2c\x20\x77\x48\x89\x45\xe1\xc7\x45\xe9\x6f\x72\x6c\x64\x66\xc7\x45\xed\x21\x00\x48\x8d\x45\xef\xba\xb6\x01\x00\x00\xbe\x41\x00\x00\x00\x48\x89\xc7\xb8\x00\x00\x00\x00\xe8\x8c\xfe\xff\xff\x89\x45\xfc\x48\x8d\x4d\xe1\x8b\x45\xfc\xba\x0e\x00\x00\x00\x48\x89\xce\x89\xc7\xe8\x53\xfe\xff\xff\x48\x83\xf8\xff\x75\x19\x48\x8d\x05\xba\x0d\x00\x00\x48\x89\xc7\xe8\x6e\xfe\xff\xff\xbf\x01\x00\x00\x00\xe8\x74\xfe\xff\xff\x8b\x45\xfc\x89\xc7\xe8\x3a\xfe\xff\xff\xb8\x00\x00\x00\x00\xc9\xc3";

  int (*ret)() = (int(*)())code;
  ret();
}