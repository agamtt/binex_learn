//Compile with: gcc -fno-stack-protector -z execstack -o launcher launcher.c


int main()
{
    //char shellcode[] = "\x48\xB8\x68\x61\x63\x6B\x65\x72\x0A\x0D\x50\x48\xC7\xC0\x01\x00\x00\x00\x48\xC7\xC7\x01\x00\x00\x00\x48\x89\xE6\x48\xC7\xC2\x07\x00\x00\x00\x0F\x05\x48\xC7\xC0\x3C\x00\x00\x00\x48\x31\xFF\x0F\x05";
    char shellcode[] = "\x48\xB8\x68\x61\x63\x6B\x65\x72\x0A\x0D\x50\x48\xC7\xC0\x22\x22\x22\x22\x48\x2D\x21\x22\x22\x22\x48\xC7\xC7\x22\x22\x22\x22\x48\x81\xEF\x21\x22\x22\x22\x48\x89\xE6\x48\xC7\xC2\x29\x22\x22\x22\x48\x81\xEA\x22\x22\x22\x22\x0F\x05";    
    int (*func)();
    func = (int (*)()) shellcode;
    (int)(*func)();
    return 0;
}